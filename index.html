<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1分でわかる！あなたの声の健康診断</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome (for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
 <!-- ▼▼▼ ここからOGP設定を追加 ▼▼▼ -->
<meta property="og:title" content="1分でわかる！あなたの声の健康診断">
<meta property="og:description" content="簡単な質問で、あなたの声の状態と、もっと輝かせるためのヒントを見つけましょう。">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kens-pro.github.io/koe/">
<!-- ↓↓↓ ここが画像の指定です ↓↓↓ -->
<meta property="og:image" content="https://kens-pro.github.io/koe/images/voice-check-ogp.png">
<!-- ↑↑↑ "voice-check-ogp.png" の部分は、あなたが変更した実際のファイル名にしてください ↑↑↑ -->
<meta name="twitter:card" content="summary_large_image">
<!-- ▲▲▲ OGP設定はここまで ▲▲▲ -->

    <style>
        /* === 基本設定 === */
        :root {
            --color-bg: #F8F8F8;
            --color-text: #333333;
            --color-green-deep: #4A5C52;
            --color-green-medium: #6C8B7C;
            --color-blue-muted: #5E8098;
            --font-family: 'Zen Kaku Gothic New', 'Noto Sans JP', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: var(--font-family);
            background-color: var(--color-bg);
            color: var(--color-text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        /* === ゲーム全体のコンテナ === */
        #game-container {
            width: 100%;
            max-width: 500px;
            background-color: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            text-align: center;
        }

        /* === 各画面の共通スタイル === */
        .game-screen {
            padding: 40px 30px;
            display: none; /* 初期状態では非表示 */
            animation: fadeIn 0.5s ease-in-out;
        }
        .game-screen.active {
            display: block; /* 表示する画面にこのクラスを追加 */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* === テキスト要素 === */
        h1 {
            font-size: 1.8em;
            color: var(--color-green-deep);
            margin-bottom: 15px;
        }
        h2 {
            font-size: 1.5em;
            color: var(--color-blue-muted);
            margin-bottom: 25px;
        }
        p {
            line-height: 1.8;
            margin-bottom: 25px;
            color: #555;
            text-align: left;
        }
        .small-text {
            font-size: 0.9em;
            color: #888;
            margin-top: 20px;
            text-align: center;
        }
        .center-text {
            text-align: center;
        }
        
        /* ▼▼▼ 変更点 ▼▼▼ */
        /* === スタート画面のロゴ（追加） === */
        #logo-container {
            margin-bottom: 15px; /* アイコンとの間隔 */
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px; /* ロゴとテキストの間隔 */
        }
        #logo-container img {
            max-width: 100px; /* ロゴ画像の最大幅 */
            height: auto;
        }
        #logo-container p {
            margin: 0; /* pタグのデフォルトマージンをリセット */
            font-size: 0.9em;
            color: #777;
            font-weight: 500;
        }
        /* ▲▲▲ 変更ここまで ▲▲▲ */


        /* === ボタン === */
        .btn, .choice-btn {
            display: block;
            width: 100%;
            padding: 15px 20px;
            margin-bottom: 15px;
            border: none;
            border-radius: 8px;
            font-family: var(--font-family);
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .btn {
            background-color: var(--color-green-deep);
            color: white;
            text-decoration: none; /* aタグのスタイル調整 */
        }
        .btn:hover {
            background-color: var(--color-green-medium);
            transform: translateY(-2px);
        }
        .choice-btn {
            background-color: #f0f0f0;
            color: var(--color-text);
        }
        .choice-btn:hover {
            background-color: #e0e0e0;
        }

        /* === 質問画面 === */
        #question-counter {
            font-size: 1.2em;
            font-weight: 700;
            color: var(--color-green-medium);
            margin-bottom: 10px;
        }
        #question-text {
            font-size: 1.2em;
            font-weight: 500;
            margin-bottom: 30px;
            min-height: 3em;
            text-align: center;
        }
        .choice-grid {
            display: flex;
            gap: 15px;
        }

        /* === 結果画面 === */
        #result-icon {
            font-size: 4em;
            color: var(--color-green-deep);
            margin-bottom: 20px;
        }
        #result-type {
            font-size: 1em; /* 画像に合わせて調整 */
            color: #777; /* 画像に合わせて調整 */
            font-weight: 500;
        }
        #result-title {
            font-size: 2em;
            color: var(--color-green-deep);
            margin-bottom: 10px;
        }
        #result-description {
            text-align: center; /* 画像に合わせて調整 */
        }
        .advice-box {
            background-color: var(--color-bg);
            border-radius: 8px;
            padding: 20px;
            text-align: left;
            margin-top: 20px;
        }
        .advice-box h3 {
            color: var(--color-green-medium);
            font-size: 1.2em;
            margin-bottom: 15px; /* 少し余白を追加 */
            text-align: center;
        }
        .advice-box ul {
            list-style: none;
            padding-left: 0;
        }
        .advice-box li {
            padding-left: 25px;
            position: relative;
            margin-bottom: 10px;
        }
        .advice-box li::before {
            content: '💡';
            position: absolute;
            left: 0;
            top: 0;
        }
    </style>
</head>
<body>

    <div id="game-container">

        <!-- ▼▼▼ 変更点 ▼▼▼ -->
        <!-- 画面1: スタート画面 -->
        <div id="screen-start" class="game-screen active">
            <!-- ロゴとテキストを追加 -->
            <div id="logo-container">
                <!-- ↓↓↓ "torii_logo.png" の部分は実際のファイル名に変更してください ↓↓↓ -->
                <img src="images/favicon.png" alt="トリイミュージック ロゴ">
                <p>トリイミュージックプレゼンツ</p>
            </div>
            
            <i id="start-icon" class="fas fa-stethoscope" style="font-size: 3em; color: var(--color-blue-muted); margin-bottom: 20px;"></i>
            <h1>1分でわかる！<br>あなたの声の健康診断</h1>
            <p class="center-text">簡単な質問で、あなたの声の状態と、もっと輝かせるためのヒントを見つけましょう。</p>
            <button id="start-btn" class="btn">診断をはじめる</button>
        </div>
        <!-- ▲▲▲ 変更ここまで ▲▲▲ -->

        <!-- 画面2: 年齢選択画面 -->
        <div id="screen-age" class="game-screen">
            <h2>まず、あなたの世代を<br>教えてください</h2>
            <p class="center-text">世代に合わせたアドバイスをお届けします。</p>
            <button class="choice-btn" data-age="student">学生～20代</button>
            <button class="choice-btn" data-age="adult">ミドルエイジ</button>
            <button class="choice-btn" data-age="senior">シニアエイジ</button>
        </div>

        <!-- 画面3: 質問画面 -->
        <div id="screen-question" class="game-screen">
            <div id="question-counter"></div>
            <p id="question-text"></p>
            <div class="choice-grid">
                <button class="choice-btn" data-answer="yes">はい、気になります</button>
                <button class="choice-btn" data-answer="no">いいえ</button>
            </div>
        </div>

        <!-- 画面4: 結果画面 (カルテ) -->
        <div id="screen-result" class="game-screen">
            <i id="result-icon" class="fas fa-file-medical-alt"></i>
            <p id="result-type" class="center-text">あなたの声の診断結果</p>
            <h1 id="result-title"></h1>
            <p id="result-description"></p>
            
            <div id="advice-container" class="advice-box">
                <h3>ワンポイント処方箋</h3>
                <ul id="advice-list"></ul>
            </div>
            
            <p style="margin-top: 30px; text-align: center;">トリイミュージックで、あなたの声をケアしませんか？</p>
            <a href="#" id="lp-link" class="btn" target="_blank">私にピッタリな声のレッスンを探す</a>
            <p class="small-text">
                ピアノやギター、ヴァイオリンなど他のコースにご興味のある方は<br><a href="#" id="official-link" target="_blank">公式サイトへ</a>
            </p>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- ゲームのデータ ---
            const questions = [
                { id: 'breath', text: '最近声が出にくいと感じることはありますか？', advice: '声を出すための準備はできていますか？例えば…ハミングを習慣づけて声を出しやすくしましょう。ハミングは発声のための筋力を上げスムーズな発声に導いてくれます' },
                { id: 'tired', text: '歌い終わると、喉が疲れたり苦しくなったりしますか？', advice: '喉にばかり力をこめて無理な発声になっていませんか？例えば、ストレッチなどでからだ全体をほぐしあたためてから歌ってみましょう。うたうためのからだの準備はとても大切です。まずはここからやっていきましょう' },
                { id: 'pitch', text: '歌詞がうまくうたえないと思うことがありますか？', advice: 'くちびるや舌は柔軟に動いていますか？例えば…鏡を見ながらうたって観察してみましょう。思っているより口や頬の動きが小さくないでしょうか？' },
                { id: 'lyrics', text: '息が続かないと感じますか？', advice: 'うたうための充分な呼吸ができていますか？例えば…腹式呼吸を取り入れうたうための肺活量を養っていきましょう。うまくいかない高音のメロディもしっかりした息の支えがポイントです' }
            ];

            const results = {
                'student': {
                    0: { title: '声の健康優良児タイプ', description: '素晴らしい！声のコンディションはとても良い状態です。基礎を身につければ、あなたの歌はもっと魅力的になりますよ。その調子で楽しんで！' },
                    1: { title: '声の伸びしろ発見タイプ', description: '少し気になる点があるようですね。でも大丈夫！それは大きな「伸びしろ」です。ちょっとしたコツで、友達も驚くような歌声に変わるかも！' },
                    2: { title: 'じっくりケア推奨タイプ', description: 'いくつかの課題が見えてきましたね。でも、心配いりません。一つひとつ丁寧にケアすれば、あなたの声はもっと楽に、自由になります。プロのサポートで、新しい自分の声に出会いましょう！' }
                },
                'adult': {
                    0: { title: '声の健康優良児タイプ', description: '素晴らしいコンディションです！日々の生活の中で、上手に声を使えていますね。歌うことを趣味にすれば、毎日がもっと輝きますよ。' },
                    1: { title: '声の伸びしろ発見タイプ', description: '少しお疲れのサインかもしれませんね。でも大丈夫、それは「伸びしろ」です。自分のための時間を作って声をケアすれば、心も体もリフレッシュできます。' },
                    2: { title: 'じっくりケア推奨タイプ', description: 'お仕事や生活での変化が、声に現れているのかもしれません。でも、心配いりません。声の仕組みに基づいたケアで、自信とハリを取り戻せます。自分を大切にする時間、始めませんか？' }
                },
                'senior': {
                    0: { title: '声の健康優良児タイプ', description: '素晴らしい！とても良い声の状態を保っていますね。歌うことは、最高の健康習慣です。仲間と一緒に、これからも楽しみましょう！' },
                    1: { title: 'じっくりケア推奨タイプ', description: '声の変化を感じていらっしゃいますね。でも、心配いりません。正しいトレーニングは、声だけでなく、飲み込む力などにも良い影響が期待できます。さあ、ここから始めましょう！' }
                }
            };
            
            // --- 変数定義 ---
            let currentScreen = 'screen-start';
            let ageGroup = '';
            let currentQuestionIndex = 0;
            let answers = {}; 

            // --- DOM要素取得 ---
            const screens = document.querySelectorAll('.game-screen');
            const startBtn = document.getElementById('start-btn');
            const ageButtons = document.querySelectorAll('#screen-age .choice-btn');
            const questionCounter = document.getElementById('question-counter');
            const questionText = document.getElementById('question-text');
            const answerButtons = document.querySelectorAll('#screen-question .choice-btn');

            // --- 関数定義 ---
            function showScreen(screenId) {
                currentScreen = screenId;
                screens.forEach(screen => {
                    screen.classList.toggle('active', screen.id === screenId);
                });
            }

            function showQuestion() {
                if (currentQuestionIndex < questions.length) {
                    const question = questions[currentQuestionIndex];
                    questionCounter.textContent = `質問 ${currentQuestionIndex + 1} / ${questions.length}`;
                    questionText.textContent = question.text;
                    showScreen('screen-question');
                } else {
                    showResult();
                }
            }
            
            function showResult() {
                const yesCount = Object.values(answers).filter(answer => answer === 'yes').length;
                
                // senior（50代以上）の場合だけ診断基準を変更
                let resultIndex;
                if (ageGroup === 'senior') {
                    resultIndex = yesCount >= 1 ? 1 : 0; // 1問以上「はい」なら「じっくりケア推奨タイプ」
                } else {
                    resultIndex = yesCount <= 1 ? 0 : (yesCount <= 3 ? 1 : 2); // 0-1問=0, 2-3問=1, 4問=2
                }
                
                const resultData = results[ageGroup][resultIndex];

                document.getElementById('result-title').textContent = resultData.title;
                document.getElementById('result-description').textContent = resultData.description;

                const adviceList = document.getElementById('advice-list');
                adviceList.innerHTML = '';
                
                let adviceCount = 0;
                questions.forEach(q => {
                    if (answers[q.id] === 'yes') {
                        const li = document.createElement('li');
                        li.textContent = q.advice;
                        adviceList.appendChild(li);
                        adviceCount++;
                    }
                });

                document.getElementById('advice-container').style.display = adviceCount > 0 ? 'block' : 'none';

                showScreen('screen-result');
            }

            // --- イベントリスナー設定 ---
            startBtn.addEventListener('click', () => {
                showScreen('screen-age');
            });

            ageButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    ageGroup = e.target.dataset.age;
                    showQuestion();
                });
            });

            answerButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const questionId = questions[currentQuestionIndex].id;
                    answers[questionId] = e.target.dataset.answer;
                    currentQuestionIndex++;
                    showQuestion();
                });
            });
            
            // --- ▼▼▼ リンク先URLをここに設定 ▼▼▼ ---
            // 「私にぴったりの特別レッスンを見る」ボタンのリンク先
            document.getElementById('lp-link').href = "https://kens-pro.github.io/vocal202508/"; 
            
            // 「公式サイトへ」のリンク先
            document.getElementById('official-link').href = "https://www.toriimusic.co.jp/adult/?_gl=1*mwjtx9*_gcl_au*MTAzMTE1NTM0NC4xNzUzNjAwMTA4";
            // --- ▲▲▲ リンク先URLの設定はここまで ▲▲▲ ---

        });
    </script>

</body>
</html>